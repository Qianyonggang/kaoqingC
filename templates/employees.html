{% extends 'base.html' %}
{% block title %}员工总览{% endblock %}
{% block content %}
<div class="card p-3">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <h5 class="mb-0">员工总览（跨团队共享）</h5>
    <a class="btn btn-outline-primary btn-sm" href="{{ url_for('teams') }}">去团队中维护员工</a>
  </div>

  <form method="get" class="mb-3">
    <div class="input-group">
      <input name="q" class="form-control" placeholder="搜索姓名" value="{{ query_text }}">
      <button class="btn btn-outline-secondary">搜索</button>
    </div>
  </form>

  <table class="table table-sm align-middle">
    <tr><th>姓名</th><th>日薪</th><th>所属团队</th></tr>
    {% for e in items %}
      <tr>
        <td>{{ e.name }}</td>
        <td>{{ e.daily_salary }}</td>
        <td>{% for t in e.teams %}<span class="badge text-bg-light border">{{ t.name }}</span> {% endfor %}</td>
      </tr>
    {% else %}
      <tr><td colspan="3" class="text-muted">没有匹配员工</td></tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
